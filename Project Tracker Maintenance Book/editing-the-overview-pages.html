<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Editing the Overview Pages | The Project Tracker</title>
  <meta name="description" content="7 Editing the Overview Pages | The Project Tracker" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Editing the Overview Pages | The Project Tracker" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Editing the Overview Pages | The Project Tracker" />
  
  
  

<meta name="author" content="Elizabeth Greenwood" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="editing-the-home-page.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.49.4/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.49.4/plotly-latest.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="project-tracker-maintenance.html"><a href="project-tracker-maintenance.html"><i class="fa fa-check"></i><b>1</b> Project Tracker Maintenance</a></li>
<li class="chapter" data-level="2" data-path="deployment.html"><a href="deployment.html"><i class="fa fa-check"></i><b>2</b> Deployment</a></li>
<li class="chapter" data-level="3" data-path="file-structure.html"><a href="file-structure.html"><i class="fa fa-check"></i><b>3</b> File Structure</a><ul>
<li class="chapter" data-level="3.1" data-path="file-structure.html"><a href="file-structure.html#input-folder"><i class="fa fa-check"></i><b>3.1</b> Input folder</a></li>
<li class="chapter" data-level="3.2" data-path="file-structure.html"><a href="file-structure.html#app.r-file"><i class="fa fa-check"></i><b>3.2</b> App.R file</a></li>
<li class="chapter" data-level="3.3" data-path="file-structure.html"><a href="file-structure.html#ui-folder"><i class="fa fa-check"></i><b>3.3</b> ui folder</a></li>
<li class="chapter" data-level="3.4" data-path="file-structure.html"><a href="file-structure.html#server-folder"><i class="fa fa-check"></i><b>3.4</b> server folder</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>4</b> Version Control</a></li>
<li class="chapter" data-level="5" data-path="shiny-help.html"><a href="shiny-help.html"><i class="fa fa-check"></i><b>5</b> Shiny Help</a><ul>
<li class="chapter" data-level="5.1" data-path="shiny-help.html"><a href="shiny-help.html#reactivity"><i class="fa fa-check"></i><b>5.1</b> Reactivity</a></li>
<li class="chapter" data-level="5.2" data-path="shiny-help.html"><a href="shiny-help.html#execution-of-commands"><i class="fa fa-check"></i><b>5.2</b> Execution of commands</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html"><i class="fa fa-check"></i><b>6</b> Editing the Home Page</a><ul>
<li class="chapter" data-level="6.1" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#setting-up-section"><i class="fa fa-check"></i><b>6.1</b> Setting up section</a></li>
<li class="chapter" data-level="6.2" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#people-table-section"><i class="fa fa-check"></i><b>6.2</b> People Table Section</a><ul>
<li class="chapter" data-level="6.2.1" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#adding-a-person"><i class="fa fa-check"></i><b>6.2.1</b> Adding a person</a></li>
<li class="chapter" data-level="6.2.2" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#editing-a-person"><i class="fa fa-check"></i><b>6.2.2</b> Editing a Person</a></li>
<li class="chapter" data-level="6.2.3" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#removing-a-person"><i class="fa fa-check"></i><b>6.2.3</b> Removing a Person</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#project-table-section"><i class="fa fa-check"></i><b>6.3</b> Project Table Section</a><ul>
<li class="chapter" data-level="6.3.1" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#adding-a-project"><i class="fa fa-check"></i><b>6.3.1</b> Adding a Project</a></li>
<li class="chapter" data-level="6.3.2" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#editing-a-project"><i class="fa fa-check"></i><b>6.3.2</b> Editing a Project</a></li>
<li class="chapter" data-level="6.3.3" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#deleting-a-project"><i class="fa fa-check"></i><b>6.3.3</b> Deleting a Project</a></li>
<li class="chapter" data-level="6.3.4" data-path="editing-the-home-page.html"><a href="editing-the-home-page.html#getting-a-projects-details"><i class="fa fa-check"></i><b>6.3.4</b> Getting a Project’s Details</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="editing-the-overview-pages.html"><a href="editing-the-overview-pages.html"><i class="fa fa-check"></i><b>7</b> Editing the Overview Pages</a><ul>
<li class="chapter" data-level="7.1" data-path="editing-the-overview-pages.html"><a href="editing-the-overview-pages.html#team-overview"><i class="fa fa-check"></i><b>7.1</b> Team overview</a><ul>
<li class="chapter" data-level="7.1.1" data-path="editing-the-overview-pages.html"><a href="editing-the-overview-pages.html#bar-chart-number-of-projects-each-team-member-currently-has"><i class="fa fa-check"></i><b>7.1.1</b> Bar chart: number of projects each team member currently has</a></li>
<li class="chapter" data-level="7.1.2" data-path="editing-the-overview-pages.html"><a href="editing-the-overview-pages.html#pie-chart-no.-projects-at-each-rag-rating"><i class="fa fa-check"></i><b>7.1.2</b> Pie chart: No. Projects at each RAG rating</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="editing-the-overview-pages.html"><a href="editing-the-overview-pages.html#people-overview"><i class="fa fa-check"></i><b>7.2</b> People Overview</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Project Tracker</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="editing-the-overview-pages" class="section level1">
<h1><span class="header-section-number">7</span> Editing the Overview Pages</h1>
<div id="team-overview" class="section level2">
<h2><span class="header-section-number">7.1</span> Team overview</h2>
<p>There are 3 main components to the team overview page. To create these three components there is a widget to select the team you want to see an overview of: a project table that contains all the projects being completed by team members of the selected team; a pie chart showing the RAG status of all the current projects and a bar chart of the number of projects being undertaken currently by all team members. Within each of the functions used to produce the different elements seen on the team overview page of the application call <code>confirmingButtons</code>. This is so that whenever the current user makes any changes to the data, the overview pages are updated accordingly.</p>
<p>A reactive data set,<code>TeamData</code>, is created from both the <code>peopleData</code> and <code>projectData</code>. <code>TeamData</code> is the same as <code>projectData</code> but with an extra field <code>TeamsInvolved</code>. <code>TeamsInvolved</code> has a list of all the teams working on the project by using the <code>teamMembers</code> field and looking up where each of the involved people’s teams from <code>peopleData</code>.</p>
<p>The options in the drop down box in the application are determined by filtering the <code>peopleData</code> to team members currently in the team and then removing the duplicates from the <code>Team</code> field. This is sorted in alphabetical order and the default value is the first team (alphabetically speaking). The widget is rendered using <code>renderUI</code>.</p>
<p>Once <code>TeamData</code> has been created <code>specificTeamData</code> is created by filtering <code>TeamData</code> by the selected team from te drop down box. This data is outputted to the application using the function <code>renderDataTable</code>. This does not hve to call <code>confirmingButtons</code> as this is updated whenever <code>TeamData</code> is updated and <code>TeamData</code> called the <code>confirmingButtons</code> function.</p>
<p>The <code>peopleInTeam</code> is outputted using <code>renderText</code> and filtering the <code>peopleData</code> by the team selected from the drop down box.</p>
<div id="bar-chart-number-of-projects-each-team-member-currently-has" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Bar chart: number of projects each team member currently has</h3>
<p>To create the bar chart with the number of projects by each team member both <code>projectData</code> and <code>peopleData</code> is used. The most complex part of creating this bar chart is getting the right dataset. The table used for the bar chart has the following fields:</p>
<ul>
<li><code>TeamMembers</code></li>
<li><code>NoProjects</code></li>
<li><code>Team</code></li>
<li><code>CurrentlyInTeam</code></li>
</ul>
<p>A table with the above fields can be made by separating out the <code>TeamMembers</code> field of the <code>projectData</code> when <code>projectData</code> had been filtered so that all projects are not completed, and join this (<code>left_join</code>) to <code>peopleData</code> (<code>TeamMembers</code>=<code>Name</code>). This is then grouped by <code>TeamMembers</code> and summarised by how many rows with that team member: `</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">group_by</span>(TeamMembers) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">NoProjects =</span> <span class="kw">n</span>())</code></pre></div>
<p>This produces a dataframe which has 2 fields, <code>TeamMembers</code> and <code>NoProjects</code>. This is then joined back to <code>peopleData</code> using a right join to create a dataframe with the 4 fields listed above. This is filtered to the selected team and then this dataframe is used to create the bar chart.</p>
</div>
<div id="pie-chart-no.-projects-at-each-rag-rating" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Pie chart: No. Projects at each RAG rating</h3>
<p>For the pie chart to show the RAG statuses clearly of all the projects the colours should represent the statuses e.g. a red RAG status should appear red. To do this the colours need to be assigned in a particular way.</p>
<p>This starts by creating the data set to be used. First <code>specificTeamData</code> is filtered to projects which haven’t been completed, then the table is grouped by RAG status and summarised by calculating the number of projects with each status to produce the table below:</p>
<table>
<thead>
<tr class="header">
<th align="left">RAG</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">G</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">R</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>The first category in the table above is assigned the colour which is listed first in the vector of colours given, to ensure that the RAG status R gets assigned the colour red the vector is created using the following line of code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colours &lt;-<span class="st"> </span><span class="kw">as.character</span>(pieChartData<span class="op">$</span>RAG) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_replace</span>(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;orange&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_replace</span>(<span class="st">&#39;R&#39;</span>, <span class="st">&#39;red&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_replace</span>(<span class="st">&#39;G&#39;</span>, <span class="st">&#39;green&#39;</span>)</code></pre></div>
<p>The following code is used to produce the pie chart in the application, an example can be seen below the code.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">plot_ly</span>(pieChartData, <span class="dt">labels=</span><span class="op">~</span>RAG, <span class="dt">values=</span><span class="op">~</span>count, <span class="dt">type=</span><span class="st">&#39;pie&#39;</span>, <span class="dt">marker=</span><span class="kw">list</span>(<span class="dt">colors=</span>colours), <span class="dt">height=</span><span class="dv">300</span>, <span class="dt">width=</span><span class="dv">300</span> ) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">layout</span>(<span class="dt">showlegend=</span><span class="ot">FALSE</span>, <span class="dt">title =</span> <span class="st">&quot;RAG Status of Current Projects&quot;</span>)</code></pre></div>
<div id="htmlwidget-3704fa9afb11bdac3677" style="width:300px;height:300px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3704fa9afb11bdac3677">{"x":{"visdat":{"26501ac55cdf":["function () ","plotlyVisDat"]},"cur_data":"26501ac55cdf","attrs":{"26501ac55cdf":{"labels":{},"values":{},"marker":{"colors":["orange","green","red"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"width":300,"height":300,"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"RAG Status of Current Projects","hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["A","G","R"],"values":[2,6,2],"marker":{"color":"rgba(31,119,180,1)","colors":["orange","green","red"],"line":{"color":"rgba(255,255,255,1)"}},"type":"pie","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="people-overview" class="section level2">
<h2><span class="header-section-number">7.2</span> People Overview</h2>
<p>This overview is much simpler than the team overview. This is because there is only one element. The table of projects that that the selected person. There are three sections to the code:</p>
<ul>
<li>The team members selector</li>
<li>creating the personal data for selected person</li>
<li>output the data frame</li>
</ul>
<p>Within the team selector the <code>confirmingButtons</code> function is called so that the people who appear in the drop down box have all the updates the current user has made. This is calculated from filtering the <code>Name</code> field of <code>peopleData</code> and finding the unique values.</p>
<p><code>personData</code> is created by the <code>projectData</code> being separated by the <code>TeamMembers</code> and individual rows are created for each listed team member using the function <code>separate_rows</code> which is in the package <code>tidyr</code>. <code>TeamMembers</code> is renamed to <code>TeamMember</code> as it now on;y ever includes one team member. This table is then joined with <code>projectTable</code> so that <code>TeamMembers</code> can be joined to the new table so that in the people table the other people who are working on the project can be seen. This table in then filtered so that <code>TeamMember</code> equals the selected person.</p>
<p>This dataframe is then outputted with the following fields hidden:</p>
<ul>
<li><code>Comments</code></li>
<li><code>Documentation</code></li>
<li><code>TeamMember</code> as this should be the selected person for every row</li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="editing-the-home-page.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
